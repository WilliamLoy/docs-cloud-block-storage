<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Authentication &mdash; Rackspace Developer Portal 1 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Rackspace Developer Portal 1 documentation" href="index.html" />
    <link rel="next" title="Role Based Access Control" href="role-based-access-control.html" />
    <link rel="prev" title="General API information" href="general-api-info.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="role-based-access-control.html" title="Role Based Access Control"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="general-api-info.html" title="General API information"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Rackspace Developer Portal 1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="authentication">
<span id="cbs-dg-general-auth"></span><h1>Authentication<a class="headerlink" href="#authentication" title="Permalink to this headline">¶</a></h1>
<p>Every REST request against the Rackspace Cloud Block Storage service requires the inclusion of a specific authorization token, supplied by the <code class="docutils literal"><span class="pre">X-Auth-Token</span></code> HTTP header. Customers obtain this token by first using the Rackspace Cloud Identity Service and supplying a valid user name and API access key.</p>
<p>To authenticate, submit a <code class="docutils literal"><span class="pre">POST/v2.0/tokens</span></code> request, presenting valid Rackspace customer credentials in the message body to a Rackspace authentication endpoint.</p>
<div class="section" id="get-your-credentials">
<span id="cbs-dg-general-auth-cred"></span><h2>Get your credentials<a class="headerlink" href="#get-your-credentials" title="Permalink to this headline">¶</a></h2>
<p>You can use either of two sets of credentials:</p>
<ul class="simple">
<li>your user name and password</li>
<li>your user name and API key</li>
</ul>
<p>Your user name and password are the ones that you use to login to the Cloud Control Panel. After you are logged in, you can use the Cloud Control Panel to obtain your API key.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you authenticate with username and password credentials, you can set up multi-factor authentication to add an additional level of security to your account. This feature is not available for username and API credentials. For information about setting up and using multi-factor authentication, see <a class="reference external" href="http://docs.rackspace.com/auth/api/v2.0/auth-client-devguide/content/MFA_Ops.html">Multi-factor authentication</a>.</p>
</div>
<p><strong>To find your API key:</strong></p>
<ol class="arabic simple">
<li>Log in to the Cloud Control Panel (<a class="reference external" href="https://mycloud.rackspace.com">https://mycloud.rackspace.com</a>).</li>
<li>On the upper-right side of the top navigation pane, click your
username.</li>
<li>From the menu, select <strong>Account Settings</strong>.</li>
<li>In the Login Details section of the Account Settings page, locate the
<strong>API Key</strong> field and click <strong>Show</strong>.</li>
<li>Copy the value of the API key and paste it into a text editor of your
choice.</li>
<li>Click <strong>Hide</strong> to hide the value of the API key.</li>
</ol>
<p>You also need your cloud account number. In the documentation, the account number is often referred to as your tenant name or tenant ID (technically, the ID is different from the name, but at Rackspace, they are the same thing). Together, three components—your user name, your API key, and your tenant ID or cloud account number—form the authentication credentials that are required to connect to the Rackspace cloud.</p>
<p>To find your tenant ID or cloud account number, locate your user name on the upper-right side of the top navigation pane in the Cloud Control Panel. The tenant ID or account number is in parentheses just to the right of your user name.</p>
</div>
<div class="section" id="use-the-global-authentication-endpoint">
<span id="cbs-dg-general-auth-global"></span><h2>Use the global authentication endpoint<a class="headerlink" href="#use-the-global-authentication-endpoint" title="Permalink to this headline">¶</a></h2>
<p>Use the following global endpoint to access the Cloud Identity Service:</p>
<p><code class="docutils literal"><span class="pre">https://identity.api.rackspacecloud.com/v2.0/</span></code></p>
</div>
<div class="section" id="send-your-credentials-to-your-authentication-endpoint">
<span id="cbs-dg-general-auth-send"></span><h2>Send your credentials to your authentication endpoint<a class="headerlink" href="#send-your-credentials-to-your-authentication-endpoint" title="Permalink to this headline">¶</a></h2>
<p>If you know your credentials and your authentication endpoint, and you can issue a <cite>POST /v2.0/tokens</cite> request in an API call, you have all the basic information that you need to use the Rackspace Cloud Identity Service.</p>
<p>You can use <a class="reference external" href="http://curl.haxx.se/">cURL</a> to try the authentication process in two steps: 1) get a token; 2) send the token to a service.</p>
<ol class="arabic simple">
<li>Get an authentication token by providing your user name and either your API key or your password. Following are examples of both approaches:</li>
</ol>
<ul class="simple">
<li>You can request a token by providing your user name and your API key.</li>
</ul>
<div class="code highlight-python"><div class="highlight"><pre>curl -X POST https://auth.api.rackspacecloud.com/v2.0/tokens -d
&#39;{ &quot;auth&quot;:{ &quot;RAX-KSKEY:apiKeyCredentials&quot;:{ &quot;username&quot;:&quot;yourUserName&quot;, &quot;apiKey&quot;:&quot;yourApiKey&quot; } } }&#39; -H &quot;Content-type: application/json&quot;
</pre></div>
</div>
<ul class="simple">
<li>You can request a token by providing your user name and your password.</li>
</ul>
<div class="code highlight-python"><div class="highlight"><pre>curl -X POST https://auth.api.rackspacecloud.com/v2.0/tokens -d
&#39;{&quot;auth&quot;:{&quot;passwordCredentials&quot;:{&quot;username&quot;:&quot;yourUserName&quot;,&quot;password&quot;:&quot;yourPassword&quot;}}}&#39; -H &quot;Content-type: application/json&quot;
</pre></div>
</div>
<ol class="arabic simple">
<li>Review the authentication response.</li>
</ol>
<ul>
<li><p class="first">Successful authentication returns a token that you can use as evidence that your identity has already been authenticated. To use the token, pass it to other services as in the <cite>X-Auth-Token</cite> header.</p>
</li>
<li><p class="first">If the Identity service returns a returns a 401 message with a request for additional credentials, your account requires multi-factor authentication. To complete the authentication process, submit a second POST tokens request with these multi-factor authentication credentials:</p>
<blockquote>
<div><ul class="simple">
<li>The session ID value returned in the WWW-Authenticate: OS-MF sessionId header parameter that is included in the response to the initial authentication request.</li>
<li>The passcode from the mobile phone associated with your user account.</li>
</ul>
</div></blockquote>
</li>
</ul>
<p><strong>Example: Authentication request with multi-factor authentication credentials</strong></p>
<div class="code highlight-python"><div class="highlight"><pre>$ curl https://identity.api.rackspacecloud.com/v2.0/tokens \
  -X POST \
  -d &#39;{&quot;auth&quot;: {&quot;RAX-AUTH:passcodeCredentials&quot;: {&quot;passcode&quot;:&quot;1411594&quot;}}}&#39;\
  -H &quot;X-SessionId: $SESSION_ID&quot; \
  -H &quot;Content-Type: application/json&quot; --verbose | python -m json.tool
</pre></div>
</div>
<ol class="arabic simple">
<li>Use the authentication token to send a <strong>GET</strong> to a service you would like to use. Here is an example of passing an authentication token to the Cloud Files service, using the Cloud Files service catalog endpoint that was returned along with the token.</li>
</ol>
<div class="code highlight-python"><div class="highlight"><pre>curl -X GET https://storage101.dfw1.clouddrive.com/v1/MossoCloudFS_aaaaaaaa-bbbb-cccc-dddd-eeeeeeee
-H &#39;X-Auth-Token: xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#39; --verbose
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Find links to language binding examples you can adapt to work with the Cloud Identity service at
<a class="reference external" href="http://docs.rackspace.com/sdks/guide/content/index.html">http://docs.rackspace.com/sdks/guide/content/index.html</a>.</p>
</div>
<p>Authentication tokens are typically valid for 24 hours. Applications should be designed to re-authenticate after receiving a 401 (Unauthorized) response from a service endpoint.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you are programmatically parsing an authentication response, be aware that service names are stable for the life of the particular service and can be used as keys. You should also be aware that a user&#8217;s service catalog can include multiple uniquely-named services that perform similar functions. For example, cloudServersOpenStack is the OpenStack version of compute whereas cloudServers is the legacy version of compute. The same user can have access to both services. In the Cloud Identity Service v2.0, the service type attribute can be used as a key to recognize similar services. See the following tip.</p>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Beginning with Rackspace Cloud Identity Service v2.0 (earlier versions were called Rackspace Cloud Authentication Service), the service catalog includes a service type attribute to identify services that perform similar functions but have different names; for example, <cite>type=&#8221;compute&#8221;</cite> identifies compute services such as cloudServers and cloudServersOpenStack. Some developers have found the service type attribute to be useful in parsing the service catalog. For Cloud Identity Service v2.0, you can see the service type attribute in the &#8220;Service Catalog in Authentication Response&#8221; samples in the <a class="reference external" href="http://docs.rackspace.com/auth/api/v2.0/auth-client-devguide/content/Sample_Request_Response-d1e64.html">Cloud Identity Client Developer Guide</a>.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Authentication</a><ul>
<li><a class="reference internal" href="#get-your-credentials">Get your credentials</a></li>
<li><a class="reference internal" href="#use-the-global-authentication-endpoint">Use the global authentication endpoint</a></li>
<li><a class="reference internal" href="#send-your-credentials-to-your-authentication-endpoint">Send your credentials to your authentication endpoint</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="general-api-info.html"
                        title="previous chapter">General API information</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="role-based-access-control.html"
                        title="next chapter">Role Based Access Control</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/authentication.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="role-based-access-control.html" title="Role Based Access Control"
             >next</a> |</li>
        <li class="right" >
          <a href="general-api-info.html" title="General API information"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Rackspace Developer Portal 1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015, Rackspace.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>